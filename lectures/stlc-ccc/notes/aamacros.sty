\ProvidesPackage{aamacros}

\RequirePackage{mathtools}

% Add a period to the end of an abbreviation unless there's one
% already, then \xspace.
% Source: https://stackoverflow.com/questions/3282319/correct-way-to-define-macros-etc-ie-in-latex
\makeatletter
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}

\def\eg{e.g\onedot}
\def\Eg{E.g\onedot}
\def\ie{i.e\onedot}
\def\Ie{I.e\onedot}
\def\cf{c.f\onedot}
\def\Cf{C.f\onedot}
\def\etc{etc\onedot}
\def\vs{vs\onedot}
\def\wrt{w.r.t\onedot}
\def\dof{d.o.f\onedot}
\def\etal{et al\onedot}
\makeatother

% Typeset { x | Ï†(x) }. Requires mathtools.
% Source: https://ftp.acc.umu.se/mirror/CTAN/macros/latex/contrib/mathtools/mathtools.pdf (3.6 Paired delimiters)
\DeclarePairedDelimiterX\SetBuilder[1]\{\}{%
  \newcommand\given{%
    \nonscript\:\delimsize\vert
    \allowbreak
    \nonscript\:
    \mathopen{}}
  #1
}

% Andreas Abel's evergreens
\newcommand{\der}{\,\vdash}
\newcommand{\subst}[3]{#3[#2{\leftarrow}#1]}
\newcommand{\substp}[3]{(#3)[#2{\leftarrow}#1]}
\newcommand{\ru}[2]{\dfrac{#1}{#2}}
\newcommand{\nru}[3]{#1\ \ru{#2}{#3}}
\newcommand{\nrux}[4]{\nru{#1}{#2}{#3}\ #4}
\newcommand{\rux}[3]{\ru{#1}{#2}\ #3}
\newcommand{\Pot}{\mathcal{P}}
\newcommand{\bla}{\mbox{$ $}}
\newcommand{\todot}{\stackrel{\cdot}{\to}}

\newcommand{\mand}{\mbox{ and }}
\newcommand{\mforall}{\mbox{ for all }}

% Greek letters as in Agda input method
\newcommand{\GG}{\ensuremath{\Gamma}}
\newcommand{\GD}{\ensuremath{\Delta}}
\newcommand{\Ge}{\ensuremath{\varepsilon}}
\newcommand{\Gs}{\ensuremath{\sigma}}

% CCCs
\newcommand{\Set}{\mathsf{Set}}
\newcommand{\Setoid}{\mathsf{Setoid}}
\newcommand{\Ob}[1][]{\mathsf{Ob}_{#1}}
\newcommand{\Hom}[1][]{\mathsf{Hom}_{#1}}
\newcommand{\Iso}[1][]{\mathsf{Iso}_{#1}}
\newcommand{\tid}{\mathsf{id}}
\newcommand{\id}[1][]{\tid_{#1}}
\newcommand{\comp}{\circ}
\newcommand{\To}{\Rightarrow}
\newcommand{\too}{\longrightarrow}
\newcommand{\tcurry}{\mathsf{curry}}
\newcommand{\tuncurry}{\mathsf{uncurry}}
\newcommand{\tapply}{\mathsf{apply}}
\newcommand{\teval}{\mathsf{eval}}

% Categories
\newcommand{\Grp}{\mathsf{Grp}}
\newcommand{\Rel}{\mathsf{Rel}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\Dup}{\mathsf{Dup}}
\newcommand{\op}[1]{#1^{\mathsf{op}}}
\newcommand{\Cat}{\mathsf{Cat}}
\newcommand{\Sub}{\mathsf{Sub}}
\newcommand{\bang}[1][]{\mathord{!}_{#1}}
\newcommand{\Id}{\mathsf{Id}}
\newcommand{\K}{\mathsf{K}}
\newcommand{\vop}{\mathit{op}}
\newcommand{\vinv}{\mathit{inv}}
\newcommand{\Int}{\mathsf{Int}}
\newcommand{\bN}{\mathbb{N}}
\newcommand{\bZ}{\mathbb{Z}}
